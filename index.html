<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY NODY CAT | Cutest Meme Coin on Polygon</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800;900&display=swap" rel="stylesheet">

    <!-- Google Analytics (replace G-XXXXXXXXXX with your real ID) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NVPYP5VT8K"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NVPYP5VT8K');
    </script>

    <style>
        :root{
            --p:#ff6b9d;
            --s:#c06c84;
            --a:#feca57;
            --d:#050816;
            --l:#fff;
            --o:#ff9a56;
            --g1:#00f5a0;
            --g2:#00d9f5;
        }
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:'Poppins',sans-serif;
            background:radial-gradient(circle at top,#1a1a2e 0,#050816 40%,#02010a 100%);
            color:var(--l);
            overflow-x:hidden;
            line-height:1.6;
        }

        .bg{
            position:fixed;
            inset:0;
            background:
                radial-gradient(circle at 10% 20%,rgba(255,107,157,.18) 0,transparent 55%),
                radial-gradient(circle at 80% 0,rgba(0,217,245,.2) 0,transparent 55%),
                radial-gradient(circle at 70% 90%,rgba(16,185,129,.18) 0,transparent 55%);
            z-index:-3;
        }
        .bg-grid{
            position:fixed;
            inset:0;
            background-image:linear-gradient(#ffffff0d 1px,transparent 1px),
                             linear-gradient(90deg,#ffffff0d 1px,transparent 1px);
            background-size:80px 80px;
            opacity:.25;
            z-index:-2;
        }

        .glow-orb{
            position:fixed;
            width:220px;height:220px;
            border-radius:50%;
            background:radial-gradient(circle,var(--g1),transparent 60%);
            filter:blur(40px);
            opacity:.45;
            z-index:-1;
            animation:orb 18s ease-in-out infinite alternate;
        }
        .glow-orb:nth-child(1){top:5%;left:5%}
        .glow-orb:nth-child(2){top:70%;right:3%;animation-delay:3s}
        .glow-orb:nth-child(3){top:35%;left:60%;animation-delay:6s}
        @keyframes orb{
            0%{transform:translate3d(0,0,0)}
            100%{transform:translate3d(40px,-60px,0)}
        }

        .lazy{opacity:0;transform:translateY(40px);transition:all .9s ease}
        .lazy.show{opacity:1;transform:none}

        header{
            padding:80px 20px 40px;
            max-width:1300px;
            margin:0 auto;
            display:grid;
            grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);
            gap:40px;
            align-items:center;
        }
        @media(max-width:900px){
            header{grid-template-columns:1fr;padding-top:70px}
        }

        .hero-visual{
            position:relative;
            width:320px;
            height:320px;
            margin:0 auto;
            border-radius:50%;
            background:radial-gradient(circle at 30% 20%,#fff 0,#ffe5f4 20%,#312e81 55%,#020617 100%);
            box-shadow:
                0 0 0 3px rgba(255,255,255,.1),
                0 0 50px rgba(0,0,0,.8),
                0 0 120px rgba(255,107,157,.7);
            overflow:hidden;
        }
        .hero-coin{
            position:absolute;
            inset:18%;
            border-radius:50%;
            background:conic-gradient(from 220deg,var(--g1),var(--g2),var(--p),var(--o),var(--g1));
            display:flex;
            align-items:center;
            justify-content:center;
            color:#fff;
            font-weight:900;
            font-size:2.4rem;
            letter-spacing:2px;
            text-shadow:0 4px 14px rgba(0,0,0,.6);
            animation:spinCoin 14s linear infinite;
        }
        .hero-coin::after{
            content:'MY NODY';
            position:absolute;
            bottom:32%;
            font-size:.9rem;
            letter-spacing:3px;
            opacity:.9;
        }
        .hero-face{
            position:absolute;
            width:110px;height:110px;
            border-radius:32px;
            background:radial-gradient(circle,#ffe4f1 0,#ffb4d1 35%,#f97316 100%);
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:3.2rem;
            box-shadow:0 18px 40px rgba(0,0,0,.55);
            animation:floatFace 3s ease-in-out infinite;
        }
        .hero-face span{transform:translateY(2px)}
        .hero-face{top:26%;left:50%;transform:translateX(-50%)}

        .orbit{
            position:absolute;
            inset:8%;
            border-radius:50%;
            border:1px dashed rgba(255,255,255,.22);
        }
        .orb-cat,.orb-rocket{
            position:absolute;
            width:44px;height:44px;
            border-radius:999px;
            background:radial-gradient(circle at 30% 20%,#fff,rgba(148,163,253,.8));
            display:flex;align-items:center;justify-content:center;
            font-size:1.4rem;
            box-shadow:0 10px 25px rgba(0,0,0,.5);
        }
        .orb-cat{top:-12px;left:50%;transform:translateX(-50%)}
        .orb-rocket{bottom:-12px;right:14%;}

        .orb-ring{
            position:absolute;
            inset:-18%;
            border-radius:50%;
            border:2px solid rgba(148,163,253,.3);
            filter:drop-shadow(0 0 18px rgba(59,130,246,.7));
            animation:orbitSpin 24s linear infinite;
        }
        .hero-tag{
            position:absolute;
            right:18px;
            top:22px;
            padding:8px 16px;
            border-radius:999px;
            font-size:.8rem;
            text-transform:uppercase;
            letter-spacing:1px;
            background:rgba(15,23,42,.85);
            border:1px solid rgba(148,163,253,.5);
        }

        @keyframes spinCoin{
            0%{transform:rotate(0deg)}
            100%{transform:rotate(360deg)}
        }
        @keyframes floatFace{
            0%,100%{transform:translate(-50%,0)}
            50%{transform:translate(-50%,-14px)}
        }
        @keyframes orbitSpin{
            0%{transform:rotate(0deg)}
            100%{transform:rotate(-360deg)}
        }

        .hero-text h1{
            font-size:4.6rem;
            line-height:1.05;
            font-weight:900;
            background:linear-gradient(120deg,var(--p),var(--a),var(--g2));
            -webkit-background-clip:text;
            -webkit-text-fill-color:transparent;
        }
        .hero-sub{
            margin-top:18px;
            font-size:1.4rem;
            color:#e5e7eb;
        }
        .pill-row{
            display:flex;
            flex-wrap:wrap;
            gap:14px;
            margin:20px 0 30px;
        }
        .pill{
            padding:8px 16px;
            border-radius:999px;
            border:1px solid rgba(148,163,253,.4);
            font-size:.95rem;
            background:rgba(15,23,42,.85);
        }
        .live-badge{
            display:inline-flex;
            align-items:center;
            gap:10px;
            background:linear-gradient(135deg,var(--p),var(--o));
            padding:10px 20px;
            border-radius:999px;
            font-size:.95rem;
            font-weight:700;
            box-shadow:0 0 35px rgba(248,113,113,.9);
            margin-top:10px;
        }
        .live-dot{
            width:10px;height:10px;border-radius:50%;background:#22c55e;
            box-shadow:0 0 12px #22c55e;animation:ping 1.4s infinite;
        }
        @keyframes ping{
            0%{transform:scale(1);opacity:1}
            100%{transform:scale(1.7);opacity:0}
        }

        .btn{
            background:linear-gradient(135deg,#10b981,#059669);
            color:#fff;
            padding:15px 32px;
            border:none;
            border-radius:999px;
            font-size:1.05rem;
            font-weight:700;
            cursor:pointer;
            margin:8px 10px 0 0;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            gap:8px;
            text-decoration:none;
            box-shadow:0 15px 40px rgba(16,185,129,.5);
            transition:.35s;
            white-space:nowrap;
        }
        .btn:hover{
            transform:translateY(-4px) scale(1.02);
            box-shadow:0 20px 50px rgba(15,23,42,.9);
        }
        .btn-outline{
            background:rgba(15,23,42,.9);
            border:1px solid rgba(148,163,253,.7);
            box-shadow:none;
        }
        .buy-btn{background:linear-gradient(135deg,var(--p),var(--o))}
        .btn-sm{padding:10px 18px;font-size:.9rem}

        nav{
            position:sticky;
            top:0;
            z-index:100;
            background:rgba(5,8,22,.95);
            backdrop-filter:blur(24px);
            border-bottom:1px solid rgba(148,163,253,.35);
        }
        nav ul{
            display:flex;
            justify-content:center;
            gap:24px;
            padding:14px 16px;
            list-style:none;
            flex-wrap:wrap;
        }
        nav a{
            color:#e5e7eb;
            text-decoration:none;
            padding:8px 18px;
            border-radius:999px;
            font-size:.92rem;
            font-weight:500;
            transition:.25s;
        }
        nav a:hover{
            background:rgba(148,163,253,.15);
            color:#fff;
            transform:translateY(-2px);
        }

        .container{max-width:1300px;margin:0 auto;padding:30px 20px 70px}
        .card{
            background:radial-gradient(circle at top left,rgba(148,163,253,.18),rgba(15,23,42,.95));
            border-radius:28px;
            padding:40px;
            margin:40px 0;
            border:1px solid rgba(148,163,253,.4);
            box-shadow:0 20px 60px rgba(15,23,42,.9);
            position:relative;
            overflow:hidden;
        }
        .card::before{
            content:'';
            position:absolute;
            inset:-40%;
            background:radial-gradient(circle at top,rgba(255,255,255,.06),transparent 60%);
            opacity:.8;
            pointer-events:none;
        }
        .card-inner{position:relative;z-index:1}

        .section-title{
            font-size:2.4rem;
            color:var(--a);
            text-align:center;
            margin-bottom:18px;
        }

        .stats-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
            gap:24px;
            margin:40px 0 10px;
        }
        .stat-box{
            background:radial-gradient(circle at top,rgba(34,197,94,.16),rgba(15,23,42,.95));
            border-radius:22px;
            padding:26px 22px;
            border:1px solid rgba(74,222,128,.5);
            text-align:left;
            position:relative;
            overflow:hidden;
        }
        .stat-label{
            font-size:.95rem;
            text-transform:uppercase;
            letter-spacing:.12em;
            opacity:.75;
        }
        .stat-value{
            font-size:2.3rem;
            font-weight:800;
            margin-top:8px;
            background:linear-gradient(135deg,#fff,var(--g1));
            -webkit-background-clip:text;
            -webkit-text-fill-color:transparent;
        }
        .stat-sub{
            font-size:.98rem;
            opacity:.8;
            margin-top:8px;
        }

        .badge{
            display:inline-flex;
            padding:6px 12px;
            border-radius:999px;
            border:1px solid rgba(148,163,253,.5);
            font-size:.78rem;
            text-transform:uppercase;
            letter-spacing:.12em;
            opacity:.85;
        }

        .staking-highlight{
            background:radial-gradient(circle at top,rgba(34,197,94,.18),rgba(15,23,42,.98));
            border-color:rgba(34,197,94,.7);
        }

        .staking-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
            gap:24px;
            margin-top:26px;
        }
        .staking-label{
            font-size:.95rem;
            opacity:.8;
        }
        .staking-input{
            width:100%;
            padding:10px 12px;
            border-radius:14px;
            border:none;
            margin:6px 0 14px;
            font-size:.95rem;
            background:rgba(15,23,42,.96);
            color:#e5e7eb;
        }
        .staking-input:focus{outline:1px solid var(--p)}

        .airdrop-badge{
            display:inline-block;
            padding:6px 12px;
            border-radius:999px;
            border:1px solid rgba(250,204,21,.6);
            font-size:.78rem;
            text-transform:uppercase;
            letter-spacing:.12em;
            color:#facc15;
            background:rgba(23,23,23,.7);
            margin-bottom:10px;
        }
        .airdrop-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
            gap:24px;
            margin-top:20px;
        }

        footer{
            text-align:center;
            padding:70px 20px 40px;
            border-top:1px solid rgba(148,163,253,.35);
            background:radial-gradient(circle at top,rgba(15,23,42,.9),#020617);
        }
        .social-icons{
            display:flex;
            justify-content:center;
            gap:26px;
            margin:30px 0 18px;
        }
        .social-icons a{
            font-size:1.1rem;
            padding:8px 14px;
            border-radius:999px;
            border:1px solid rgba(148,163,253,.6);
            text-decoration:none;
            color:#e5e7eb;
            opacity:.8;
            transition:.3s;
        }
        .social-icons a:hover{
            transform:translateY(-3px);
            opacity:1;
            background:rgba(30,64,175,.9);
        }

        @media(max-width:768px){
            .hero-text h1{font-size:3.1rem}
            .hero-sub{font-size:1.1rem}
            .card{padding:26px 20px}
        }
    </style>
</head>
<body>

<div class="bg"></div>
<div class="bg-grid"></div>
<div class="glow-orb"></div>
<div class="glow-orb"></div>
<div class="glow-orb"></div>

<header class="lazy">
    <div class="hero-text">
        <span class="badge">MNODY ‚Ä¢ MEME CAT ON POLYGON</span>
        <h1>My Nody Cat<br/>The Cat that Farms the Chain</h1>
        <p class="hero-sub">
            Pure meme energy, real on-chain proof. Liquidity locked, 2.5B burned, 
            3B + 2.5B long-term vesting and a <strong>500M staking reward pool (200M + 300M)</strong> 
            + <strong>100M community airdrop</strong> for the Nody army.
        </p>

        <div style="font-size:.85rem;opacity:.75;margin-top:6px;">
            Visitor tracking active via <b>Google Analytics</b>.
        </div>

        <div class="pill-row">
            <div class="pill">25% Supply Burned (2.5B)</div>
            <div class="pill">3B + 2.5B MNODY ‚Ä¢ Long Vesting</div>
            <div class="pill">500M Staking Rewards (200M + 300M)</div>
            <div class="pill">100M MNODY Community Airdrop</div>
        </div>

        <div class="live-badge">
            <div class="live-dot"></div>
            <span>Live ‚Ä¢ Meme Cat Yield Season</span>
        </div>

        <div style="margin-top:28px;display:flex;flex-wrap:wrap;gap:10px;">
            <button class="btn" id="connectWallet">Connect MetaMask</button>
            <a href="https://quickswap.exchange/#/swap?outputCurrency=0x0bacbf5c435c3b0546f7cdf66f960770c7ad912c"
               target="_blank" class="btn buy-btn">
                Buy MNODY on QuickSwap
            </a>
            <a href="https://t.me/Mynody" target="_blank" class="btn btn-outline btn-sm">
                Join Telegram
            </a>
            <a href="#" id="buyWithWallet" class="btn btn-outline btn-sm" style="display:none">
                1-Click Buy with Wallet
            </a>
        </div>

        <div id="walletStatus" style="font-size:.98rem;margin-top:14px;color:#f97316;font-weight:600"></div>
    </div>

    <div class="hero-visual">
        <div class="hero-tag">Meme Yield Engine</div>
        <div class="orbit"></div>
        <div class="orb-ring"></div>
        <div class="hero-coin">MNODY</div>
        <div class="hero-face"><span>üò∫</span></div>
        <div class="orb-cat">üò∏</div>
        <div class="orb-rocket">üöÄ</div>
    </div>
</header>

<nav>
    <ul>
        <li><a href="#about">Home</a></li>
        <li><a href="#tokenomics">Tokenomics</a></li>
        <li><a href="#staking">Staking</a></li>
        <li><a href="#airdrop">Airdrop</a></li>
        <li><a href="#chart">Chart</a></li>
        <li><a href="#buy">Buy</a></li>
    </ul>
</nav>

<div class="container">

    <!-- ABOUT -->
    <section id="about" class="card lazy">
        <div class="card-inner">
            <h2 class="section-title">Welcome to My Nody Cat</h2>
            <p style="font-size:1.1rem;text-align:center;max-width:840px;margin:0 auto;">
                My Nody Cat (MNODY) is a hyper-cute Polygon meme coin built with
                serious on-chain discipline: burned supply, long-term vesting, locked
                LP and a staking program fed by a dedicated <strong>500M MNODY reward pool</strong>
                (200M base + 300M expansion), plus a <strong>100M MNODY community airdrop</strong>.
                Meme first ‚Äî but the numbers still have to pass the Nody sniff test.
            </p>
        </div>
    </section>

    <!-- STATS -->
    <section class="lazy">
        <div class="stats-grid">
            <div class="stat-box">
                <div class="stat-label">Total Supply</div>
                <div class="stat-value">10,000,000,000</div>
                <div class="stat-sub">Hard-capped MNODY supply on Polygon.</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Burned Forever</div>
                <div class="stat-value">2,500,000,000</div>
                <div class="stat-sub">Sent to dead address ‚Ä¢ 25% of supply removed.</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Locked & Vested</div>
                <div class="stat-value">5,500,000,000*</div>
                <div class="stat-sub">LP locks + 3B + 2.5B long-term vesting for ecosystem growth.</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Staking Rewards</div>
                <div class="stat-value">500,000,000</div>
                <div class="stat-sub">200M base rewards + 300M expansion pool for Nody stakers.</div>
            </div>
        </div>
        <p style="opacity:.7;font-size:.9rem;margin-top:6px;text-align:center;">
            *Approximate breakdown, see PolygonScan + Team Finance page for live details. A separate
            100M MNODY pool is reserved for community airdrops and campaigns.
        </p>
    </section>

    <!-- TOKENOMICS -->
    <section id="tokenomics" class="card lazy">
        <div class="card-inner">
            <h2 class="section-title">Tokenomics & On-Chain Proof</h2>

            <div style="text-align:center;font-size:1rem;max-width:960px;margin:0 auto;">
                <p style="margin:6px 0;">
                    <strong>Token Contract:</strong>
                    <code style="background:#020617;border-radius:10px;padding:6px 10px;">
                        0x0bacbf5c435c3b0546f7cdf66f960770c7ad912c
                    </code>
                </p>

                <p style="margin:6px 0;">
                    <strong>25% Burn (2.5B MNODY):</strong>
                    <a href="https://polygonscan.com/tx/0x4ce95d00814793adf2062ace6571811696a72f197793d694e9486bddc08c9073"
                       target="_blank" style="color:#4ade80;text-decoration:none;">
                        PolygonScan Tx (verified)
                    </a>
                </p>

                <p style="margin:6px 0;">
                    <strong>Liquidity / Team Locks:</strong>
                    <a href="https://polygonscan.com/address/0x1b2029a33f5d3e25aa4f65f3f9d7d4dcf913cf12"
                       target="_blank" style="color:#38bdf8;text-decoration:none;">
                        Multi-year vesting and lock contracts
                    </a>
                </p>

                <p style="margin:6px 0;">
                    <strong>3B MNODY Long-Term Vesting (5.5 Years):</strong><br/>
                    Contract:
                    <a href="https://polygonscan.com/address/0x9FEbbB83a336831a3Cc35Ac965B735FFeEbC630E"
                       target="_blank" style="color:#4ade80;text-decoration:none;">
                        0x9FEb...630E
                    </a>
                    ‚Ä¢ Tx:
                    <a href="https://polygonscan.com/tx/0x04a4fba1d818b56fcac2e4555235b3d6e53b310d7b453787966ec730f6d6d35f"
                       target="_blank" style="color:#f97316;text-decoration:none;">
                        0x04a4fb‚Ä¶6d35f
                    </a>
                    <br/>
                    <span style="font-size:.95rem;opacity:.85;">
                        First 6 months full lock (cliff), then linear unlocking over 5 years ‚Äì
                        slow, transparent release for ecosystem growth and CEX / marketing.
                    </span>
                </p>

                <p style="margin:6px 0;">
                    <strong>2.5B MNODY Vesting (1 Year Lock + 3 Years Linear):</strong><br/>
                    Tx:
                    <a href="https://polygonscan.com/tx/0xb29526d2524fcfe619362856f7b28e8e20279a73d45702669650d2d9020e46fd"
                       target="_blank" style="color:#fde047;text-decoration:none;">
                        0xb29526d2524fcfe619362856f7b28e8e20279a73d45702669650d2d9020e46fd
                    </a>
                    <br/>
                    <span style="font-size:.95rem;opacity:.85;">
                        Locked for the first 12 months, then released linearly over the next 3 years ‚Äì
                        reinforcing long-term alignment and liquidity depth.
                    </span>
                </p>

                <p style="margin:6px 0;">
                    <strong>Dex Pair:</strong>
                    <a href="https://dexscreener.com/polygon/0x3cEC491A74c924aaeb74DDe821653AaFEc7b94B9"
                       target="_blank" style="color:#f9a8d4;text-decoration:none;">
                        DexScreener Live MNODY / USDT Chart
                    </a>
                </p>
            </div>
        </div>
    </section>

    <!-- STAKING -->
    <section id="staking" class="card staking-highlight lazy">
        <div class="card-inner">
            <h2 class="section-title">MNODY Staking ‚Ä¢ 500M Reward Pool</h2>

            <p style="font-size:1rem;max-width:960px;margin:0 auto 14px;text-align:center;">
                Stake MNODY through the audited Team Finance contracts and earn from a
                combined <strong>500,000,000 MNODY reward pool</strong>. The pool is split
                into a 200M base allocation plus an additional 300M expansion allocation.
                Rewards stream linearly over the pool duration and are shared proportionally
                by all stakers.
            </p>

            <div style="text-align:center;margin-top:18px;">
                <button class="btn buy-btn"
                        onclick="window.open('https://www.team.finance/view-coin/0x0bacbf5c435c3b0546f7cdf66f960770c7ad912c?name=MyNody&symbol=MNODY&chainid=0x89&_gl=1*x6d27t*_gcl_au*NDY3MTgzNTAwLjE3NjQ1ODU3ODk','_blank')">
                    Open Team Finance Staking
                </button>
                <button class="btn btn-outline btn-sm"
                        onclick="document.getElementById('aprCalculator').scrollIntoView({behavior:'smooth'})">
                    Open APR Calculator
                </button>
            </div>

            <div class="staking-grid" style="margin-top:28px;">
                <div class="card staking-highlight" id="aprCalculator" style="margin:0;">
                    <div class="card-inner">
                        <h3 style="font-size:1.4rem;margin-bottom:6px;">APR & Reward Estimator</h3>
                        <p class="staking-label">Adjust the numbers based on the live pool in Team Finance.</p>

                        <label class="staking-label">Total reward pool (MNODY)</label>
                        <input id="totalReward" class="staking-input" type="number" value="500000000">

                        <label class="staking-label">Pool duration (days)</label>
                        <input id="durationDays" class="staking-input" type="number" value="240">

                        <label class="staking-label">Total MNODY currently staked</label>
                        <input id="totalStaked" class="staking-input" type="number" value="10000000">

                        <label class="staking-label">Your stake (MNODY)</label>
                        <input id="userStake" class="staking-input" type="number" value="100000">

                        <button class="btn btn-sm" style="width:100%;margin-top:4px;" onclick="calculateAPR()">Calculate APR</button>

                        <div style="margin-top:16px;font-size:.95rem;">
                            <div id="aprResult" style="margin-bottom:8px;font-weight:700;"></div>
                            <div id="userRewardResult" style="opacity:.92;"></div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin:0;">
                    <div class="card-inner">
                        <h3 style="font-size:1.4rem;margin-bottom:8px;">How Staking & Claiming Works</h3>
                        <ol style="font-size:.98rem;line-height:1.9;margin-left:18px;">
                            <li>Click <b>‚ÄúOpen Team Finance Staking‚Äù</b> and open the MNODY page.</li>
                            <li>Connect your wallet on <b>Polygon</b> (same address that holds MNODY).</li>
                            <li>Select the active <b>MNODY staking pool</b> from the list.</li>
                            <li>Press <b>Approve</b> once to allow the contract to use your MNODY.</li>
                            <li>Enter how much you want to stake and confirm the <b>Stake</b> transaction.</li>
                            <li>Rewards accrue automatically while you are staked in the pool.</li>
                            <li>To harvest, click <b>Claim</b> ‚Äì your earned MNODY is sent to your wallet.</li>
                            <li>After lock / pool end, hit <b>Unstake / Withdraw</b> to get your principal back.</li>
                        </ol>
                        <p style="font-size:.88rem;margin-top:10px;opacity:.78;">
                            APR is dynamic and depends on total staked and remaining rewards ‚Äì use the
                            calculator to experiment with different pool sizes and durations.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AIRDROP SECTION -->
    <section id="airdrop" class="card lazy">
        <div class="card-inner">
            <div class="airdrop-badge">100M MNODY COMMUNITY AIRDROP</div>
            <h2 class="section-title">MNODY Airdrop Campaign</h2>

            <!-- LIVE COUNTDOWN -->
            <div id="airdropCountdown" style="text-align:center;font-size:.95rem;margin-bottom:10px;opacity:.85;">
                Airdrop ends in: --d --h --m --s
            </div>

            <p style="font-size:1rem;max-width:980px;margin:0 auto 14px;text-align:center;">
                To reward early community members and new Nody frens, the team has reserved
                <strong>100,000,000 MNODY</strong> for on-chain airdrop claims. 
                Each eligible wallet can claim a fixed <b>5,000 MNODY</b> once, after
                joining the Telegram community.
            </p>

            <div class="airdrop-grid">
                <div>
                    <h3 style="font-size:1.3rem;margin-bottom:8px;">How to Join the Airdrop</h3>
                    <ol style="font-size:.98rem;line-height:1.9;margin-left:18px;">
                        <li>Use a Polygon wallet (MetaMask or similar) on the MNODY network.</li>
                        <li>Join the official 
                            <b><a href="https://t.me/Mynody" target="_blank" style="color:#38bdf8;text-decoration:none;">
                                Telegram channel
                            </a></b> and stay active in chat.</li>
                        <li>Follow and retweet the pinned post on the official <b>Twitter / X</b>.</li>
                        <li>Come back to this page, connect your wallet and tick the checkbox confirming
                            you joined Telegram.</li>
                        <li>Press <b>Claim 5,000 MNODY</b> ‚Äì each wallet can claim only once.</li>
                    </ol>
                    <p style="font-size:.9rem;opacity:.8;margin-top:8px;">
                        On-chain contract enforces one claim per wallet. Telegram join is verified socially
                        (by tasks and manual checks), not by smart contract.
                    </p>
                </div>

                <div>
                    <h3 style="font-size:1.3rem;margin-bottom:8px;">On-Chain Claim (1 Wallet = 1 Claim)</h3>
                    <p style="font-size:.9rem;opacity:.8;">
                        Connect your Polygon wallet, confirm you joined Telegram, then claim your 5,000 MNODY
                        airdrop allocation once per address.
                    </p>

                    <button class="btn btn-sm" id="airdropConnectBtn" style="width:100%;margin-top:4px;">
                        Connect Wallet for Airdrop
                    </button>

                    <div style="margin-top:10px;font-size:.9rem;">
                        <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
                            <input type="checkbox" id="tgConfirm" style="width:16px;height:16px;">
                            <span>I confirm I joined the official MNODY Telegram channel.</span>
                        </label>
                    </div>

                    <button class="btn btn-sm" id="claimBtn" style="width:100%;margin-top:8px;background:linear-gradient(135deg,#f97316,#fb923c);opacity:.7;" disabled>
                        Claim 5,000 MNODY
                    </button>

                    <!-- ADMIN CSV EXPORT BUTTON -->
                    <button class="btn btn-sm btn-outline" id="downloadCsvBtn"
                            style="width:100%;margin-top:8px;">
                        Export Claimed Wallets (CSV)
                    </button>
                    <p style="font-size:.78rem;opacity:.7;margin-top:4px;">
                        (Admin only: CSV uses PolygonScan API & on-chain <code>Claimed</code> events.)
                    </p>

                    <div id="airdropClaimStatus" style="font-size:.9rem;margin-top:10px;min-height:20px;"></div>

                    <p style="font-size:.85rem;opacity:.7;margin-top:10px;">
                        Make sure you are on <b>Polygon mainnet</b> and have a little MATIC
                        for gas. Claim amount and total supply are defined inside the
                        airdrop smart contract.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- WHITEPAPER SECTION -->
    <section id="whitepaper" class="card lazy">
        <div class="card-inner">
            <h2 class="section-title">Whitepaper ‚Äì Staking, Vesting & Airdrop</h2>
            <p style="font-size:1rem;max-width:980px;margin:0 auto 12px;">
                The MNODY economy is designed around transparent burn, long-term
                vesting and a high-energy staking + airdrop engine. Below is the concise
                whitepaper-style summary you can reuse in documents and listings.
            </p>
            <h3 style="font-size:1.3rem;margin-top:18px;">Staking Module</h3>
            <ul style="font-size:.98rem;line-height:1.9;margin-left:18px;">
                <li><b>Platform:</b> Team Finance Staking (non-custodial smart contracts on Polygon).</li>
                <li><b>Total Staking Rewards:</b> 500,000,000 MNODY.</li>
                <li><b>Split:</b> 200,000,000 MNODY base pool + 300,000,000 MNODY expansion pool.</li>
                <li><b>Distribution:</b> Rewards stream linearly over the configured pool duration.</li>
                <li><b>Fair Share:</b> User reward = (User stake / Total staked) √ó Daily pool reward.</li>
                <li><b>Claiming:</b> Rewards can be claimed at any time according to pool rules;
                    principal is withdrawable after the lock / pool end.</li>
            </ul>

            <h3 style="font-size:1.3rem;margin-top:18px;">Community Airdrop Module</h3>
            <ul style="font-size:.98rem;line-height:1.9;margin-left:18px;">
                <li><b>Total Airdrop Allocation:</b> 100,000,000 MNODY reserved for community campaigns.</li>
                <li><b>Per-Wallet Allocation:</b> Base on-chain campaign offering <b>5,000 MNODY</b> per eligible
                    wallet via claim contract.</li>
                <li><b>Distribution Method:</b> On-chain claim contract plus task-based and manual filters
                    for Telegram and Twitter activity.</li>
                <li><b>Eligibility:</b> Genuine wallets that join the Telegram, follow social tasks and 
                    pass anti-bot checks.</li>
                <li><b>Anti-Sybil:</b> Contract enforces one claim per wallet; team may filter
                    abusive wallets from future campaigns.</li>
                <li><b>Goal:</b> Reward early believers, grow the MNODY brand and bootstrap real community.</li>
            </ul>

            <h3 style="font-size:1.3rem;margin-top:18px;">Vesting & Lock Design</h3>
            <ul style="font-size:.98rem;line-height:1.9;margin-left:18px;">
                <li><b>Burn:</b> 2.5B MNODY (25% of supply) permanently burned and verifiable on-chain.</li>
                <li><b>Vesting Pool A ‚Äì 3B MNODY:</b> 6 months full lock followed by 5-year linear unlock
                    (ecosystem, CEX and growth incentives).</li>
                <li><b>Vesting Pool B ‚Äì 2.5B MNODY:</b> 1-year full lock followed by 3-year linear unlock,
                    reinforcing long-term alignment and liquidity depth.</li>
                <li><b>Liquidity & Team:</b> Additional LP and team allocations are locked via time-locked
                    smart contracts on Polygon, with all links publicly available.</li>
            </ul>
        </div>
    </section>

    <!-- CHART -->
    <section id="chart" class="card lazy">
        <div class="card-inner">
            <h2 class="section-title">Live MNODY / USDT Chart</h2>
            <iframe src="https://dexscreener.com/polygon/0x3cEC491A74c924aaeb74DDe821653AaFEc7b94B9?embed=1&theme=dark&trades=0&info=0"
                    style="width:100%;height:580px;border:none;border-radius:20px;margin-top:20px;"
                    loading="lazy"></iframe>
        </div>
    </section>

    <!-- BUY CTA -->
    <section id="buy" class="card lazy" style="background:radial-gradient(circle at top,rgba(248,113,113,.36),rgba(15,23,42,.98));border-color:rgba(248,113,113,.7);">
        <div class="card-inner" style="text-align:center;">
            <h2 class="section-title">Join the Nody Cat Army</h2>
            <p style="font-size:1.1rem;max-width:780px;margin:0 auto 22px;">
                The meme is cute, the tokenomics are not a joke. Grab MNODY, stake on
                Team Finance and join the 100M MNODY community airdrop waves.
            </p>
            <button class="btn" id="connectWallet2">Connect Wallet</button>
            <a href="https://quickswap.exchange/#/swap?outputCurrency=0x0bacbf5c435c3b0546f7cdf66f960770c7ad912c"
               target="_blank" class="btn buy-btn">
                Buy MNODY on QuickSwap
            </a>
        </div>
    </section>

</div>

<footer>
    <div style="font-size:2.2rem;margin-bottom:8px;">üò∫üöÄüíéüåô</div>
    <p style="font-size:1rem;opacity:.85;">
        ¬© 2025 My Nody Cat (MNODY) ‚Ä¢ Meme first, but every tx is on-chain.
    </p>
    <div class="social-icons">
        <a href="https://t.me/Mynody" target="_blank" title="Telegram">Telegram</a>
        <a href="#" title="Twitter">Twitter</a>
        <a href="#" title="Discord">Discord</a>
    </div>
    <div style="font-size:.85rem;opacity:.7;margin-top:8px;">
        Visitor stats & traffic are measured using <b>Google Analytics</b>.
    </div>
</footer>

<!-- ethers.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5/dist/ethers.min.js"></script>

<script>
    // Scroll reveal
    const observer = new IntersectionObserver(entries=>{
        entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('show'); });
    }, {threshold:0.12});
    document.querySelectorAll('.lazy').forEach(el=>observer.observe(el));

    const connectBtns = [document.getElementById('connectWallet'), document.getElementById('connectWallet2')];
    const statusEl = document.getElementById('walletStatus');
    const buyWithBtn = document.getElementById('buyWithWallet');
    const airdropConnectBtn = document.getElementById('airdropConnectBtn');
    const claimBtn = document.getElementById('claimBtn');
    const airdropStatusEl = document.getElementById('airdropClaimStatus');
    const tgCheckbox = document.getElementById('tgConfirm');
    const countdownEl = document.getElementById('airdropCountdown');
    const downloadCsvBtn = document.getElementById('downloadCsvBtn');

    let currentAccount = null;
    let provider = null;

    // ‚úÖ FINAL AIRDROP CONTRACT ADDRESS
    const AIRDROP_CONTRACT_ADDRESS = "0xF5B3F45d72143E64D9793215093fFDaa2e3A41f5";

    // PolygonScan API key for CSV export (ADMIN: fill this)
    const POLYGONSCAN_API_KEY = "YOUR_POLYGONSCAN_API_KEY";

    const AIRDROP_ABI = [
        "function claim() external",
        "function hasClaimed(address user) external view returns (bool)",
        "event Claimed(address indexed user, uint256 amount)"
    ];

    // Countdown ‚Äì change this to your real end time (UTC)
    const AIRDROP_END_TIME = new Date("2026-01-31T18:30:00Z"); // TODO: set actual end date/time

    function updateCountdown(){
        if (!countdownEl) return;
        const now = new Date().getTime();
        const end = AIRDROP_END_TIME.getTime();
        let diff = end - now;

        if (diff <= 0){
            countdownEl.textContent = "Airdrop has ended.";
            return;
        }

        const days = Math.floor(diff / (1000*60*60*24));
        diff -= days * 1000*60*60*24;
        const hours = Math.floor(diff / (1000*60*60));
        diff -= hours * 1000*60*60;
        const mins = Math.floor(diff / (1000*60));
        diff -= mins * 1000*60;
        const secs = Math.floor(diff / 1000);

        countdownEl.textContent = `Airdrop ends in: ${days}d ${hours}h ${mins}m ${secs}s`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    function updateClaimButtonState() {
        if (!claimBtn) return;
        if (currentAccount && tgCheckbox && tgCheckbox.checked) {
            claimBtn.disabled = false;
            claimBtn.style.opacity = '1';
        } else {
            claimBtn.disabled = true;
            claimBtn.style.opacity = '0.7';
        }
    }

    async function connect() {
        if (!window.ethereum) {
            statusEl.innerHTML = 'MetaMask not found. Click to install.';
            window.open('https://metamask.io/download/','_blank');
            return;
        }

        try {
            // Polygon mainnet
            try {
                await window.ethereum.request({
                    method:'wallet_switchEthereumChain',
                    params:[{ chainId:'0x89' }]
                });
            } catch(e){
                if(e.code === 4902){
                    await window.ethereum.request({
                        method:'wallet_addEthereumChain',
                        params:[{
                            chainId:'0x89',
                            chainName:'Polygon',
                            nativeCurrency:{symbol:'MATIC',decimals:18},
                            rpcUrls:['https://polygon-rpc.com'],
                            blockExplorerUrls:['https://polygonscan.com']
                        }]
                    });
                }
            }

            const accounts = await window.ethereum.request({method:'eth_requestAccounts'});
            currentAccount = accounts[0];
            provider = new ethers.providers.Web3Provider(window.ethereum);

            const short = currentAccount.slice(0,6)+'...'+currentAccount.slice(-4);
            statusEl.innerHTML = 'Connected: '+short;
            statusEl.style.color = '#4ade80';

            connectBtns.forEach(b=>{
                if(!b) return;
                b.textContent = 'Wallet Connected';
                b.disabled = true;
                b.style.background = 'linear-gradient(135deg,#22c55e,#16a34a)';
            });

            if (airdropConnectBtn) {
                airdropConnectBtn.textContent = 'Wallet Connected for Airdrop';
                airdropConnectBtn.disabled = true;
            }

            if (buyWithBtn) buyWithBtn.style.display = 'inline-flex';

            updateClaimButtonState();

        } catch(err){
            console.error(err);
            statusEl.innerHTML = 'Connection rejected.';
            statusEl.style.color = '#f97316';
        }
    }

    connectBtns.forEach(b=>b && b.addEventListener('click',connect));
    if (airdropConnectBtn) airdropConnectBtn.addEventListener('click',connect);
    if (tgCheckbox) tgCheckbox.addEventListener('change', updateClaimButtonState);

    if(window.ethereum && window.ethereum.selectedAddress){
        currentAccount = window.ethereum.selectedAddress;
        provider = new ethers.providers.Web3Provider(window.ethereum);
        const short = currentAccount.slice(0,6)+'...'+currentAccount.slice(-4);
        statusEl.innerHTML = 'Connected: '+short;
        statusEl.style.color = '#4ade80';
        connectBtns.forEach(b=>{
            if(!b) return;
            b.textContent = 'Wallet Connected';
            b.disabled = true;
            b.style.background = 'linear-gradient(135deg,#22c55e,#16a34a)';
        });
        if (airdropConnectBtn) {
            airdropConnectBtn.textContent = 'Wallet Connected for Airdrop';
            airdropConnectBtn.disabled = true;
        }
        if (buyWithBtn) buyWithBtn.style.display = 'inline-flex';
        updateClaimButtonState();
    }

    if (buyWithBtn){
        buyWithBtn.onclick = (e)=>{
            e.preventDefault();
            window.open('https://quickswap.exchange/#/swap?outputCurrency=0x0bacbf5c435c3b0546f7cdf66f960770c7ad912c','_blank');
        };
    }

    function calculateAPR(){
        const totalReward = Number(document.getElementById('totalReward').value||0);
        const durationDays = Number(document.getElementById('durationDays').value||0);
        const totalStaked = Number(document.getElementById('totalStaked').value||0);
        const userStake = Number(document.getElementById('userStake').value||0);

        const aprResult = document.getElementById('aprResult');
        const userRewardResult = document.getElementById('userRewardResult');

        if(!totalReward || !durationDays || !totalStaked || !userStake){
            aprResult.innerHTML = 'Please fill all fields with valid numbers.';
            userRewardResult.innerHTML = '';
            return;
        }

        const dailyPoolReward = totalReward / durationDays;
        const yearlyPoolReward = dailyPoolReward * 365;
        const apr = (yearlyPoolReward / totalStaked) * 100;

        const userShare = userStake / totalStaked;
        const userDailyReward = dailyPoolReward * userShare;
        const userYearlyReward = userDailyReward * 365;

        aprResult.innerHTML = `Estimated Pool APR: <span style="color:#facc15;">${apr.toFixed(2)}% / year</span>`;
        userRewardResult.innerHTML =
            `If you stake <strong>${userStake.toLocaleString()} MNODY</strong>, ` +
            `you earn about <strong>${userDailyReward.toFixed(2).toLocaleString()} MNODY / day</strong> ` +
            `(~<strong>${userYearlyReward.toFixed(2).toLocaleString()} MNODY / year</strong>) ` +
            `if pool size and rewards remain the same.`;
    }

    async function claimAirdrop(){
        if (!window.ethereum || !provider || !currentAccount){
            airdropStatusEl.style.color = '#f97316';
            airdropStatusEl.textContent = 'Please connect wallet first.';
            return;
        }
        if (!tgCheckbox || !tgCheckbox.checked){
            airdropStatusEl.style.color = '#f97316';
            airdropStatusEl.textContent = 'Please confirm you joined the Telegram channel.';
            return;
        }
        if (!AIRDROP_CONTRACT_ADDRESS){
            airdropStatusEl.style.color = '#f97316';
            airdropStatusEl.textContent = 'Airdrop contract not configured yet.';
            return;
        }

        try{
            const signer = provider.getSigner();
            const contract = new ethers.Contract(AIRDROP_CONTRACT_ADDRESS, AIRDROP_ABI, signer);

            airdropStatusEl.style.color = '#e5e7eb';
            airdropStatusEl.textContent = 'Checking claim status...';

            const already = await contract.hasClaimed(currentAccount);
            if (already){
                airdropStatusEl.style.color = '#f97316';
                airdropStatusEl.textContent = 'You have already claimed this airdrop from this wallet.';
                return;
            }

            airdropStatusEl.style.color = '#e5e7eb';
            airdropStatusEl.textContent = 'Sending claim transaction...';

            const tx = await contract.claim();
            airdropStatusEl.textContent = 'Transaction submitted. Waiting for confirmation...';

            await tx.wait();
            airdropStatusEl.style.color = '#4ade80';
            airdropStatusEl.textContent = '‚úÖ Airdrop claimed successfully! Check your wallet for MNODY.';
        } catch(err){
            console.error(err);
            airdropStatusEl.style.color = '#f97316';
            if (err && err.message){
                if (err.message.toLowerCase().includes('already claimed')){
                    airdropStatusEl.textContent = 'You have already claimed this airdrop.';
                } else {
                    airdropStatusEl.textContent = 'Transaction failed or rejected.';
                }
            } else {
                airdropStatusEl.textContent = 'Transaction failed.';
            }
        }
    }

    if (claimBtn){
        claimBtn.addEventListener('click', claimAirdrop);
    }

    // üîπ ADMIN: Download CSV of all Claimed events using PolygonScan API
    async function downloadClaimsCsv(){
        if (!POLYGONSCAN_API_KEY || POLYGONSCAN_API_KEY === "YOUR_POLYGONSCAN_API_KEY"){
            alert("Set your PolygonScan API key in POLYGONSCAN_API_KEY constant first.");
            return;
        }
        if (!AIRDROP_CONTRACT_ADDRESS){
            alert("Airdrop contract address missing.");
            return;
        }

        try{
            const iface = new ethers.utils.Interface(AIRDROP_ABI);
            const topic0 = ethers.utils.id("Claimed(address,uint256)");

            const url = `https://api.polygonscan.com/api?module=logs&action=getLogs` +
                        `&address=${AIRDROP_CONTRACT_ADDRESS}` +
                        `&fromBlock=0&toBlock=latest` +
                        `&topic0=${topic0}` +
                        `&apikey=${POLYGONSCAN_API_KEY}`;

            const res = await fetch(url);
            const data = await res.json();

            if (data.status !== "1" || !Array.isArray(data.result) || data.result.length === 0){
                alert("No claim logs found or API returned empty result.");
                return;
            }

            const rows = [["wallet","amount_raw","amount_mnody"]];

            for (const log of data.result){
                try{
                    const parsed = iface.parseLog(log);
                    const wallet = parsed.args.user;
                    const amountRaw = parsed.args.amount.toString();
                    const amountMnody = ethers.utils.formatUnits(parsed.args.amount, 18);
                    rows.push([wallet, amountRaw, amountMnody]);
                } catch(e){
                    console.warn("Failed to parse log", e);
                }
            }

            let csv = rows.map(r => r.join(",")).join("\n");
            const blob = new Blob([csv], {type:"text/csv"});
            const urlCsv = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = urlCsv;
            a.download = "mnody_airdrop_claims.csv";
            document.body.appendChild(a);
            a.click();
            a.remove();
            URL.revokeObjectURL(urlCsv);
        } catch(err){
            console.error(err);
            alert("Failed to export CSV. Check console for details.");
        }
    }

    if (downloadCsvBtn){
        downloadCsvBtn.addEventListener('click', downloadClaimsCsv);
    }
</script>
</body>
</html>
